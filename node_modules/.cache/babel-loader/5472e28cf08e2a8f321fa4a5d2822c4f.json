{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar Semaphore_1 = require(\"./Semaphore\");\n\nvar Mutex =\n/** @class */\nfunction () {\n  function Mutex() {\n    this._semaphore = new Semaphore_1[\"default\"](1);\n  }\n\n  Mutex.prototype.acquire = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var _a, releaser;\n\n      return tslib_1.__generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this._semaphore.acquire()];\n\n          case 1:\n            _a = _b.sent(), releaser = _a[1];\n            return [2\n            /*return*/\n            , releaser];\n        }\n      });\n    });\n  };\n\n  Mutex.prototype.runExclusive = function (callback) {\n    return this._semaphore.runExclusive(function () {\n      return callback();\n    });\n  };\n\n  Mutex.prototype.isLocked = function () {\n    return this._semaphore.isLocked();\n  };\n\n  Mutex.prototype.release = function () {\n    this._semaphore.release();\n  };\n\n  return Mutex;\n}();\n\nexports[\"default\"] = Mutex;","map":{"version":3,"names":["Object","defineProperty","exports","value","tslib_1","require","Semaphore_1","Mutex","_semaphore","prototype","acquire","__awaiter","_a","releaser","__generator","_b","label","sent","runExclusive","callback","isLocked","release"],"sources":["C:/Users/kiran/Documents/silverlineswap-main/node_modules/async-mutex/lib/Mutex.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Semaphore_1 = require(\"./Semaphore\");\nvar Mutex = /** @class */ (function () {\n    function Mutex() {\n        this._semaphore = new Semaphore_1.default(1);\n    }\n    Mutex.prototype.acquire = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a, releaser;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._semaphore.acquire()];\n                    case 1:\n                        _a = _b.sent(), releaser = _a[1];\n                        return [2 /*return*/, releaser];\n                }\n            });\n        });\n    };\n    Mutex.prototype.runExclusive = function (callback) {\n        return this._semaphore.runExclusive(function () { return callback(); });\n    };\n    Mutex.prototype.isLocked = function () {\n        return this._semaphore.isLocked();\n    };\n    Mutex.prototype.release = function () {\n        this._semaphore.release();\n    };\n    return Mutex;\n}());\nexports.default = Mutex;\n"],"mappings":"AAAA;;;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIC,WAAW,GAAGD,OAAO,CAAC,aAAD,CAAzB;;AACA,IAAIE,KAAK;AAAG;AAAe,YAAY;EACnC,SAASA,KAAT,GAAiB;IACb,KAAKC,UAAL,GAAkB,IAAIF,WAAW,WAAf,CAAwB,CAAxB,CAAlB;EACH;;EACDC,KAAK,CAACE,SAAN,CAAgBC,OAAhB,GAA0B,YAAY;IAClC,OAAON,OAAO,CAACO,SAAR,CAAkB,IAAlB,EAAwB,KAAK,CAA7B,EAAgC,KAAK,CAArC,EAAwC,YAAY;MACvD,IAAIC,EAAJ,EAAQC,QAAR;;MACA,OAAOT,OAAO,CAACU,WAAR,CAAoB,IAApB,EAA0B,UAAUC,EAAV,EAAc;QAC3C,QAAQA,EAAE,CAACC,KAAX;UACI,KAAK,CAAL;YAAQ,OAAO,CAAC;YAAE;YAAH,EAAc,KAAKR,UAAL,CAAgBE,OAAhB,EAAd,CAAP;;UACR,KAAK,CAAL;YACIE,EAAE,GAAGG,EAAE,CAACE,IAAH,EAAL,EAAgBJ,QAAQ,GAAGD,EAAE,CAAC,CAAD,CAA7B;YACA,OAAO,CAAC;YAAE;YAAH,EAAeC,QAAf,CAAP;QAJR;MAMH,CAPM,CAAP;IAQH,CAVM,CAAP;EAWH,CAZD;;EAaAN,KAAK,CAACE,SAAN,CAAgBS,YAAhB,GAA+B,UAAUC,QAAV,EAAoB;IAC/C,OAAO,KAAKX,UAAL,CAAgBU,YAAhB,CAA6B,YAAY;MAAE,OAAOC,QAAQ,EAAf;IAAoB,CAA/D,CAAP;EACH,CAFD;;EAGAZ,KAAK,CAACE,SAAN,CAAgBW,QAAhB,GAA2B,YAAY;IACnC,OAAO,KAAKZ,UAAL,CAAgBY,QAAhB,EAAP;EACH,CAFD;;EAGAb,KAAK,CAACE,SAAN,CAAgBY,OAAhB,GAA0B,YAAY;IAClC,KAAKb,UAAL,CAAgBa,OAAhB;EACH,CAFD;;EAGA,OAAOd,KAAP;AACH,CA3B0B,EAA3B;;AA4BAL,OAAO,WAAP,GAAkBK,KAAlB"},"metadata":{},"sourceType":"script"}